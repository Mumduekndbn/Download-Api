<!DOCTYPE html>
<html>
  <head>
    <title>
      video
    </title>
    <link rel="stylesheet" href="search/style.css">
    <style>
      .aligned {
        padding:0.01em 16px;
        color:#000!important;
        background-color:#ffdddd71!important;
        border-left:6px solid #ccc!important;
        border-color:#f32121!important;
        padding-top: 1px;
        padding-bottom: 1px;
      }
    </style>
  </head>
  <body>
    <div class="contain">hi there</div>
    <h2 id="gm">hi</h2>
    <div class="aligned">
      <img id="img1" src="" width="100" height="100" alt="" style="border-left: 5px; border-color: red; border-left-width: 10px;">
      <p id="txt1" class="sidetext"></p>
    </div>
    <div class="aligned">
      <img id="img2" src="" width="100" height="100" alt="">
      <p id="txt2" class="sidetext"></p>
    </div>
    <div class="aligned">
      <img id="img3" src="" width="100" height="100" alt="">
      <p id="txt3" class="sidetext"></p>
    </div>
    <div class="aligned">
      <img id="img4" src="" width="100" height="100" alt="">
      <p id="txt4" class="sidetext"></p>
    </div>
    <div class="aligned">
      <img id="img5" src="" width="100" height="100" alt="">
      <p id="txt5" class="sidetext"></p>
    </div>
    
  </body>
  <script async>
    function urlParse (url) {
      // thanks to Intelli :)
      let urlquery = url.split('?')[1]
      if (!urlquery) return []
      let params = urlquery.split('&')
      let array = new Array()
      for (each of params) {
        let split = each.split('=')
        array[split[0]]=split[1]
      }
      return array
    }
    async function resultsDisplay() {
      let query = urlParse(document.URL)
      let searchterms = query["search_query"]
      document.getElementById('gm').innerHTML = searchterms
      const response = await fetch(`/api/v1/search?search_query=${searchterms}`);
      const data = await response.json();

      console.log(data)
    }
    resultsDisplay()
  </script>
</html>

